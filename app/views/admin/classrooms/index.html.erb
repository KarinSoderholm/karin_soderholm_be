<section class="page-title">
  <h1>All the Workshops!</h1>
</section>

<div class="quicknav-content">
  <%= link_to  'admin dashboard', admin_dashboard_index_path %> / <%= link_to  'my art', admin_artworks_path %> / <%= link_to  'my garments', admin_clothings_path %>
</div>
<br>
<h3>Total Number of Workshops: <%= @classrooms.count %></h3>
<h3>Number of Current/Future Workshops: <%= @classrooms.active_classrooms %></h3>
<h3>Number of Past Workshops: <%= @classrooms.inactive_classrooms %></h3>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Link to Edit</th>
      <th>Link to Delete</th>
      <th>Description</th>
      <th>Image</th>
      <th>Date</th>
      <th>Time</th>
      <th>Location</th>
      <th>Requirements</th>
      <th>Tools Needed for Workshop</th>
      <th>Cost</th>
      <th>Workshop is Actively Filling up</th>
    </tr>
  </thead>
  <tbody>
    <% if @classrooms %>
      <% @classrooms.each do |classroom| %>
      <tr>
        <td><%= link_to "#{classroom.name}", "/admin/classrooms/#{classroom.id}", method: :get %></td>
        <!-- <button type="button" class="btn btn-info" aria-pressed="true"><%=classroom.name%></button> -->
        <!-- <a href="#" class="btn btn-primary btn-lg active" role="button" aria-pressed="true">Primary link</a> -->
        <td><%= link_to "Edit #{classroom.name}", "/admin/classrooms/#{classroom.id}/edit", method: :get %></td>
        <td><%= link_to "Delete #{classroom.name}", "/admin/classrooms/#{classroom.id}/alert", method: :get %></td>
        <td><%= classroom.description %></td>
        <% if classroom.image.attached? %>
          <td><%= image_tag(classroom.image)%></td>
        <% else %>
          <td>There is no image uploaded, yet!</td>
        <% end %>
        <td><%= (classroom.date).strftime("%A, %d %b %Y") %></td>
        <td><%= (classroom.time).strftime("%I : %M %p") %></td>
        <td><%= classroom.location %></td>
        <% if !classroom.requirements.empty?%>
          <td><%= classroom.find_all_requirements %></td>
        <% else %>
          <td>There are no requirements set up yet</td>
        <% end %>
        <% if !classroom.tools.empty?%>
          <td><%= classroom.find_all_tools %></td>
        <% else %>
          <td>There are no tools set up yet</td>
        <% end %>
        <td><%= number_to_currency(classroom.cost) %></td>
        <td><%= classroom.active %></td>
      </tr>
      <% end %>
    <% end %>
  </tbody>
</table>

<!-- <ul>
  <%# <% @classrooms.each do |file| %>
    <li>
      <%# <% if @classrooms[0].image.representable? %> %>
        <%# <%= image_tag @classrooms[0]image.representation(resize_to_limit: [100, 100]) %> %>
      <% else %>
        <%# <%= link_to rails_blob_path(@classrooms[0]image, disposition: "attachment") do %> %>
          <%# <%= image_tag "placeholder.png", alt: "Download image" %> %>
        <%# <% end %> %>
      <%# <% end %> %>
    </li>
  <%# <% end %>
</ul> -->

<p><%= button_to 'Add a New Workshop', new_admin_classroom_path, method: :get  %></p>
<%# <!-- <p><%= button_to 'Delete Workshop', new_admin_classroom_path, method: :delete, data: { confirm: 'Are you sure?' }  %>

<div class="import-csv">
  <%= form_tag import_admin_classrooms_path, multipart: true do %>
    <%= file_field_tag :file %>
    <%= submit_tag 'Import Spreadsheet' %>
  <% end %>
</div>
